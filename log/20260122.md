출근 10:10
- 오늘은 확정된건 아니지만 어제 회의한 내용 고치고 주신 PR 기반으로 수정 진행한 뒤 스터디 참여하고 스터디 내용 정리할 듯
# Playwright test tool
> [!faq] 왜 배움?
> 수동 테스트만으로는 모든 케이스를 커버할 수 없음

> [!info] 테스트 피라미드
> ```
> Exploratory
> End-to-end
> Component
> Integration
> Unit
> ```
> 위로 갈수록 속도는 느리지만 신뢰도가 높음
> 아래로 갈수록 속도는 빠르지만 신뢰도가 낮고 많이 해야함

#### 1. Unit test
함수나 클래스 같은 코드의 최소 단위를 독립적으로 검증
#### 2. Integration test
여러 모듈이나 컴포넌트가 함께 잘 작동하는지 검증
#### 3. E2E test
실제 사용자 시나리오를 시뮬레이션하여 시스템 전체가 올바르게 동작하는지 검증

#### 4. 정적 분석
문법부터 분석 차근차근 분석

---
> [!faq] E2E?
> 1. 실제 사용자 경험 검증
> 2. 크로스 브라우징 이슈 방지
> 3. 배포 전 최종 테스트

> [!faq] Playwright?
> MS에서 만든 OpenSource tool
> Chromium, firefox, webkit
> 프로젝트 폴더 하위에 tests 폴더를 만듦
> \*.spec.ts 파일로 만듦
> `spec`: 무엇을 테스트할 것인지 test() 함수로 케이스 정의
> `fixture`: 어떤 환경에서 실행할 것인가
> `POM`: page object model : 웹 페이지를 Class로 정의하여 테스트 코드와 UI 조작을 분리하는  디자인 패턴
> ```mermaid
> graph LR
> 1["Locator : 요소찾기"] --> 2["Action : 동작 실행"] --> 3["Assertion : 결과 검증"]
> ```
> page.locator().action()
> await expect(locator).assertion() = 자동 재시도 매커니즘 (Web-first assert)

> [!faq] Auto-wait?
> Action 수행 전 요소가 준비될 때까지 자동으로 대기
> > [!info] 조건
> > 요소가 DOM에 존재, 화면에 보임, 안정적, 활성화
> > sleep없이 타이밍 오류도 감소, 비동기 로딩 자동 처리

> [!check] 실행
> ```cmd
> npx playwright test <file>
> ```
> `--ui`: ui모드
> `show-report`: 테스트 리포트 확인
> `--headed`: 브라우저 창 표시
> `--debug`: 디버거 모드
> `--trace on`: trace 수집
> `--project`: 특정 브라우저 지정
> `-g`: 테스트 명 필터

`VSC Extension으로도 존재`

> [!abstract] Workflow
> ```mermaid
> graph LR
> 1["테스트 실행"] --> 2["결과 확인"] --> 3["리포트 확인"] --> 4["Trace 분석"]
> ```
> `+ claude code가 MCP 지원을 함`

> [!todo] 과제
> PR, 코드리뷰, 각자 1개 이상하기
> PR 할 때 playwright test 코드를 포함할 것
> 테스트 코드 관련 블로그 글 작성하기

---

> [!info] h5ad format
> 계층적 데이터 포멧을 생물학 데이터에 맞게 개조함
> ```mermaid
> graph LR
> 1["파일"] --> 2["필드"] --> 3["필수 필드"]
> 2 --> 4["선택 필드"]
> ```

필수
`adata.obsm['X.umap']`

결론 : 데이터 필드 분석 한번 해야할 듯

### 오늘의 메모
---
으렵다...
테스트 코드는 그리 어려운 문제가 아니었는데 기존에 pytest로 학습한 부분도 있어서
근데 `h5ad`.... 이 친구가 진짜 금쪽이임...
이 친구를 하루 정도 각잡고 한번 파봐야할 듯
그리고 이번에 추가로 `Carssette Design Game Project`에 참여하게 되어서 바빠질듯..

퇴근 18:13